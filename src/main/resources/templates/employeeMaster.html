<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"lang="en">

<script type="text/javascript" th:src="@{/js/settings.js}"></script>
<script type="text/javascript" th:src="@{/js/app.js}"></script>
<link rel="stylesheet" type="text/css" th:href="@{/css/modern.css}" />
<script  src="https://www.googletagmanager.com/gtag/js?id=UA-120946860-7"></script>


<style>


body {
	opacity: 0;
}
.uppercase {
  text-transform: uppercase;
}

#loading {
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  position: fixed;
  display: block;
  opacity: 0.7;
  background-color: #676565;
  z-index: 99;
  text-align: center;
}

#loading-image {
  position: absolute;
  top: 25%;
  left: 50%;
  z-index: 100;
}
</style>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	 gtag('js', new Date());

	gtag('config', 'UA-120946860-7');
</script>
<head>
<meta charset="utf-8" />
<title>HRMS</title>
</head>
 
<body>

<div class="wrapper">
<nav id="sidebar" class="sidebar">
 <div th:replace="/fragments/sidebar :: div"></div>
 </nav>
 		
		<div class="main">
		<div th:replace="/fragments/header ::div"></div>
		<main class="content">
		<div class="container-fluid">

					<div class="header">
						<h1 class="header-title">
							Employee Details
						</h1>
						
					
					</div>
					<div class="row">
	              <div class="col-12">
		<form id="smartwizard-validation" enctype="multipart/form-data" class="wizard wizard-primary" th:action="@{/saveEmployee}" th:object="${employees}" method="post">
			<ul>
			<li><a href="#validation-step-1"><br /><small>Officer Details</small></a></li>
			<li><a href="#validation-step-2"><br /><small>Other Details </small></a></li>
			<li><a href="#validation-step-3"><br /><small>Arm Licence  Details</small></a></li>

								</ul>
								<div>
								
                         <div id="validation-step-1">
											<div class="form-row">
                                             	<div class="form-group sm col-md-4">
													<label class="form-label">Upload Image <span
														class="text-danger">*</span>
													</label>
													
													 <input type="file" id="image" name="image" accept="image/png,image/jpeg" title="image" class="form-control required"onchange="preview_image(event)"/>
											     <img id="output_image"width="100px" height="100px"style="border-radius: 50px;" alt="output_image">
												</div>
												
												
									     </div>
									     
									     
									     
									     
										<div class="form-row">
												<div class="form-group sm col-md-4">
												
													<label class="form-label">Employee Code <span
														class="text-danger">*</span>
													</label> <input name="empCode" type="text" id="empCode"
														class="form-control"readonly>
												</div>
											<div class="form-group sm col-md-4">
											       <label class="form-label">Name
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="empName"name="empName" title="Name"maxlength="50" pattern="^[a-zA-Z\s]*$" class="form-control required">
										     </div>
	
										<div class="form-group sm col-md-4">
													<label class="form-label">Designation</label> <span
														class="text-danger">*</span> <select
														class="form-control required" name="designation" id="designation">
														<option value="">Select Type</option>
														<option th:each="des :${listDesignation}" th:value="${des.desgName}" th:text="${des.getDesgName()}"></option>
														
													</select>
												</div>
											
												</div>
												
												
												
												
												
												
												
												
											<div class="form-row">
							                   <div class="form-group sm col-md-4">
												<label class="form-label">Date Of Joining</label>
												<span class="text-danger">*</span>
												<input  type="text" id="dateOfJoining" name="dateOfJoining" class="form-control required">
										          </div>
													<div class="form-group sm col-md-4">
												
													<label class="form-label">Batch Year</label> <span
														class="text-danger">*</span> 
														<input class="form-control required" type="text"id="batchYear"name="batchYear"/>

												</div>
												<div class="form-group sm col-md-4">
													<label class="form-label">VRS
													</label> <input name=vrs type="text" id="vrs" maxlength="30" 
														class="form-control">
												</div>
												
												</div>
											
											<div class="form-row">
									              <div class="form-group sm col-md-4">
												<label class="form-label">Department</label>
												<label style="color: red">*</label>
												<select class="form-control select2"onchange="myFunction()" name="departmentCode"id="departmentCode" required aria-required="true">
												 <option value="">Select Department</option>
												<option th:each="dep :${listDepartment}" th:value="${dep.getDepartmentCode()}" th:text="${dep.getDeptName()}"></option>
											     	</select>
											     
											   <input type="hidden" class="form-control" id="depName" name="depName" size="50" > 
											</div>
											<div class="form-group sm col-md-4">
													<label class="form-label">Type</label> <span
														class="text-danger">*</span> <select
														class="form-control required" name="typeCourtDepartment" id="typeCourtDepartment">
														
														<option value="">Select Type</option>
														<option value="D"selected="selected">Department</option>
														<option value="C">Court</option>
												
													</select>
												</div>
												
												
													<div class="form-group sm col-md-4">
													<label class="form-label">Date  Of Posting </label> <span
														class="text-danger">*</span> <input 
														class="form-control required" type="text"id="dateOfPosting"
														name="dateOfPosting" />

												</div>
											
												</div>
									
												
												
											<div class="form-row">
												<div class="form-group sm col-md-4">
													<label class="form-label">Employee Payee Code. <span
														class="text-danger">*</span>
													</label> <input name="employeePayeeCode" type="text" id="employeePayeeCode" pattern="\d{1,10}" title="Only digits"maxlength="10" 
														class="form-control required">
												</div>
													
												<div class="form-group sm col-md-4">
													<label class="form-label">Officer Type</label> <span
														class="text-danger">*</span> <select
														class="form-control required" name="officerType" id="officerType">
														<option value="">Select Type</option>
														<option value="IPS">IPS</option>
														<option value="HPS">HPS</option>
														<option value="DDA">DDA</option>
														<option value="DA">DA</option>
														<option value="ADA">ADA</option>
													</select>
												</div>
													
														<div class="form-group sm col-md-4">
													<label class="form-label">Present Posting <span
														class="text-danger">*</span>
											</label> 
											<input name="presentPosting" type="text"id="presentPosting"  title="Present Posting"
														class="form-control required">
												</div>
													
													
												
													
												</div>
													<div class="form-row">
													
													<div class="form-group sm col-md-4">
													<label class="form-label">Vigilance Query</label> 
													 <select  class="form-control required" name="vigilanceQuery" id="vigilanceQuery">
														<option value="">Select Type</option>
														<option value="YES">YES</option>
														<option value="NO"selected="selected">NO</option>
														
													</select>
												</div>
													<div class="form-group sm col-md-4">
													<label class="form-label">Suspension </label>  <select
														class="form-control required" name="suspention" id="suspention">
														<option value="">Select Type</option>
														<option value="YES">YES</option>
														<option value="NO" selected="selected">No</option>
														
													</select>
												</div>
												<div class="form-group sm col-md-4">
													<label class="form-label">Date  Of Retirement</label> <span
														class="text-danger">*</span> <input 
														class="form-control required" type="text"id="dateOfRetirement"
														name="dateOfRetirement" />

												</div>
											
													
													
													</div>

										
									
						          	</div>
									<div id="validation-step-2">
									<div class="form-row">
										<div class="form-group sm col-md-4">
											<label class="form-label">Transfer
											<span class="text-danger">*</span>
												</label>
							           <input  type="text"id="transfer"name="transfer" title="Transfer" maxlength="30"class="form-control required">
										</div>
										<div class="form-group sm col-md-4">
											<label class="form-label">Order No.
											<span class="text-danger">*</span>
												</label>
							           <input  type="text"id="orderNo"name="orderNo" title="Order No."maxlength="30" class="form-control required">
										</div>
										 <div class="form-group sm col-md-4">
												<label class="form-label">Order Date</label>
												<span class="text-danger">*</span>
												<input  type="text" id="orderDate" name="orderDate" class="form-control required">
										          </div>
									               </div>
										
											
											<div class="form-row">
											<div class="form-group sm col-md-4">
													<label class="form-label">Under Rule 7</label>  <select
														class="form-control" name="underRule7" id="underRule7">
														<option value="">Select Type</option>
														<option value="YES">YES</option>
														<option value="NO"selected="selected">NO</option>
														
													</select>
												</div>
												<div class="form-group sm col-md-4">
													<label class="form-label">Under Rule 8</label>
													<select class="form-control" name="underRule8" id="underRule8">
														<option value="">Select Type</option>
														<option value="YES">YES</option>
														<option value="NO"selected="selected">NO</option>
														
													</select>
												</div>
												
													<div class="form-group sm col-md-4">
											         <label class="form-label">UAN
											          <span class="text-danger">*</span></label>
							                         <input  type="text"id="uan"name="uan" title="uan"maxlength="30" class="form-control required">
										            </div>
											</div>
											
											<div class="form-row">
											<div class="form-group sm col-md-4">
											       <label class="form-label">Add Charge
											      </label>
							                 <input  type="text"id="addCharge"name="addCharge" title="Add Charge" class="form-control">
										     </div>
										      	<div class="form-group sm col-md-4">
													<label class="form-label">On Additional Charge</label>  
													<select class="form-control" name="onAdditionalCharge" id="onAdditionalCharge">
														<option value="">Select Type</option>
														<option value="YES">YES</option>
														<option value="NO"selected="selected">NO</option>
														
													</select>
												</div>
												 	<div class="form-group sm col-md-4">
											       <label class="form-label">Pan No
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="panNo"name="panNo" title="Pan No" maxlength="10"class="form-control required">
										     </div>
											</div>
											
											
											
											<div class="form-row">
											<div class="form-group sm col-md-4">
											       <label class="form-label">Qualification
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="qualification"name="qualification" title="Qualification"maxlength="40" pattern="^[a-zA-Z\s]*$" class="form-control required">
										     </div>
										     <div class="form-group sm col-md-4">
											       <label class="form-label">Aadhar No
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="aadharNo"name="aadharNo" title="Aadhar No" pattern="\d{1,12}"maxlength="12" class="form-control required">
										     </div>
										     <div class="form-group sm col-md-4">
											       <label class="form-label">Mobile Number
											      </label>
							                 <input  type="text"id="mobileNumber"name="mobileNumber" title="Mobile Number"maxlength="10" class="form-control">
										     </div>
											</div>
											
											
											   <div class="form-row">
											  <div class="form-group sm col-md-4">
											       <label class="form-label">Email
											      </label>
							                 <input  type="text"id="email"name="email" title="Email"pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" class="form-control">
										     </div>
										       	<div class="form-group sm col-md-4">
													<label class="form-label">Gender</label> <span
														class="text-danger">*</span> <select
														class="form-control required" name="gender" id="gender">
														<option value="">Select Type</option>
														<option value="MALE">MALE</option>
														<option value="FEMALE">FEMALE</option>
														
													</select>
												</div>
												
												  	<div class="form-group sm col-md-4">
													<label class="form-label">Martial Status</label> <span
														class="text-danger">*</span> <select
														class="form-control required" name="martialStatus" id="martialStatus">
														<option value="">Select Type</option>
														<option value="MARRIED">MARRIED</option>
														<option value="UNMARRIED ">UNMARRIED  </option>
														
													</select>
												</div>
											</div>
											
											
										  <div class="form-row">
											  <div class="form-group sm col-md-4">
											       <label class="form-label">Address
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="address"name="address" title="Address"maxlength="60" class="form-control required">
										     </div>
										       <div class="form-group sm col-md-4">
											       <label class="form-label">City state
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="cityState"name="cityState" title="City state"maxlength="45" pattern="^[a-zA-Z\s]*$" class="form-control required">
										     </div>
										       <div class="form-group sm col-md-4">
											       <label class="form-label">Pin Code
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="pinCode"name="pinCode" title="Pin Code"maxlength="8" class="form-control required">
										     </div>
											</div>

									</div>


									<div id="validation-step-3">
									 
									  <div class="form-row">
									  
										       <div class="form-group sm col-md-4">
											       <label class="form-label">Father Name
											       </label>
							                 <input  type="text"id="fatherName"name="fatherName" maxlength="40"title="Father Name"  pattern="^[a-zA-Z\s]*$"class="form-control">
										     </div>
										       <div class="form-group sm col-md-4">
											       <label class="form-label">Address
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="addressArms"name="addressArms"maxlength="60" title="Address" class="form-control required">
										     </div>
										     
										       <div class="form-group sm col-md-4">
											       <label class="form-label">District
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="district"name="district"maxlength="40" title="District" pattern="^[a-zA-Z\s]*$" class="form-control required">
										     </div>
									  </div>
									  
									   <div class="form-row">
									   
										       <div class="form-group sm col-md-4">
											       <label class="form-label">State
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="state"name="state" title="State" maxlength="30"pattern="^[a-zA-Z\s]*$" class="form-control required">
										     </div>
										       <div class="form-group sm col-md-4">
											       <label class="form-label">Arms Area
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="armsArea"name="armsArea" title="Arms Area" maxlength="60"class="form-control required">
										     </div>
										     <div class="form-group sm col-md-4">
											       <label class="form-label">DOI
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="doi"name="doi" title="DOI"maxlength="45" class="form-control required">
										     </div>
									  </div>
									  
									   <div class="form-row">
									     
										       <div class="form-group sm col-md-4">
											       <label class="form-label">DOV
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="dov"name="dov" title="DOV"maxlength="45" class="form-control required">
										     </div>
										       <div class="form-group sm col-md-4">
											       <label class="form-label">TOA
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="toa"name="toa" title="TOA"maxlength="45" class="form-control required">
										     </div>
										     
										      <div class="form-group sm col-md-4">
											       <label class="form-label">TOP
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="top"name="top" title="TOP"maxlength="45" class="form-control required">
										     </div>
									  </div>
									  
									  
									    <div class="form-row">
									       
										         <div class="form-group sm col-md-4">
											       <label class="form-label">NOL
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="nol"name="nol" title="NOL"maxlength="45" class="form-control required">
										     </div>
										         <div class="form-group sm col-md-4">
											       <label class="form-label">LCD
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="lcd"name="lcd" title="LCD" maxlength="45"class="form-control required">
										     </div>
										     
									          <div class="form-group sm col-md-4">
											       <label class="form-label">Dealer Details
											       <span class="text-danger">*</span></label>
							                 <input  type="text"id="dealerDetails"name="dealerDetails"maxlength="100" title="Dealer Details" class="form-control required">
										     </div>
									    </div>
									    
									     
									   
									 <button type="submit" class="btn btn-primary">Save</button>
										
                              </div>
                     
                     
                     
                     
								</div>
	</form>
			</div>
				  <div class="col-12">
							<div class="card">
								<div class="card-header">
								</div>
								<div class="card-body">
								<table id="datatables-buttons"aria-describedby="datatables-buttons" class="table table-striped display" style="width:100%">
										<thead>
											<tr>
												<th scope="col">Emp id</th>
												<th scope="col">Date Of Joining</th>
												<th scope="col">employee images</th>
												<th scope="col">Action</th>
												
											</tr>
										</thead>
										<tbody>
											<tr  th:each="listemployee : ${listEmployee}">
												<td th:text="${listemployee.empCode}"></td>
												<td th:text="${listemployee.dateOfJoining}"></td>
												
											<td><img alt="th" th:src="@{'data:image/jpeg;base64,'+${imgUtil.getImgData(listemployee.imageProfile)}}" width="48" height="48"class="rounded-circle mr-2"></td>
												<!-- <td><img th:src="@{'/img/'+${listemployee.empImg}}" alt="Avatar" width="48" height="48"class="rounded-circle mr-2" /> </td> -->
												<td><a th:href="@{/editEmployee/{id}(id=${listemployee.empCode})}"><em class="fa fa-edit"></em></a>
												<a th:href="@{/deleteEmployee/{id}(id=${listemployee.empCode})}" onclick="return confirm('Are you sure?')"><em class="fa fa-times"></em></a>

												</td>
											</tr>
										</tbody>
									
									</table>
								</div>
								
							</div>
						</div>
					</div>

				</div>
		</main>
		<footer class="footer">
		<div th:replace="/fragments/footer :: div"></div>
		</footer>
		</div>
		</div>
	<script>
		$(function() {
			
			
		$("input[name='dateOfPosting']").daterangepicker({
				singleDatePicker: true,
			    autoApply: true,
				locale: {
		            format: 'DD/MM/YYYY'
		        },
				showDropdowns: true
			});
		$("input[name=\"dateOfJoining\"]").daterangepicker({
			singleDatePicker: true,
			   autoApply: true,
			locale: {
				format: 'DD/MM/YYYY'
	        },
			showDropdowns: true
		});
		$("input[name='dateOfRetirement']").daterangepicker({
			singleDatePicker: true,
		    autoApply: true,
			locale: {
				format: 'DD/MM/YYYY'
	        },
			showDropdowns: true
		});
		$("input[name='batchYear']").datepicker({
			
		    autoApply: true,
		    format: "yyyy",
		    autoclose: true,
		    minViewMode: "years",
			locale: {
	            format: 'YYYY'
	        },
			showDropdowns: true
		});
			
		
		$("input[name=\"orderDate\"]").daterangepicker({
				singleDatePicker: true,
				   autoApply: true,
				locale: {
					format: 'DD/MM/YYYY'
		        },
				showDropdowns: true
			});

			
			// Datatables basic
			$('#datatables-basic').DataTable({
				responsive: true
			});
			// Datatables with Buttons
			var datatablesButtons = $('#datatables-buttons').DataTable({
				  deferRender:true,
		            scrollCollapse: true,
		            scroller: false,
				   responsive: true,
				   lengthMenu :[[10,20,30,-1 ],['10 rows', '20 rows', '30 rows', 'Show all' ] ],
					buttons :[]
			});
			datatablesButtons.buttons().container().appendTo("#datatables-buttons_wrapper .col-md-6:eq(0)")
		});
		
	</script>
	
		<script>
		$(function() {
			$("#smartwizard-default-primary").smartWizard({
				theme: "default",
				showStepURLhash: false
			});

			
			// Validation
			var $validationForm = $("#smartwizard-validation");
			$validationForm.validate({
				errorPlacement: function errorPlacement(error, element) {
					$(element).parents(".form-group").append(
						error.addClass("invalid-feedback small d-block")
					)
				},
				highlight: function(element) {
					$(element).addClass("is-invalid");
				},
				unhighlight: function(element) {
					$(element).removeClass("is-invalid");
				},
				rules: {
					"wizard-confirm": {
						equalTo: "input[name=\"wizard-password\"]"
					}
				}
			});
			$validationForm.smartWizard({
					autoAdjustHeight: false,
					backButtonSupport: false,
					useURLhash: false,
					showStepURLhash: false,
					
				})
				.on("leaveStep", function(e, anchorObject, stepNumber, stepDirection) {
					if (stepDirection === "forward") {
						return $validationForm.valid();
					}
					return true;
				});
			/* $validationForm.find(".btn-submit").on("click", function() {
				if (!$validationForm.valid()) {
					return;
				}
				
				return false;
			}); */
		});
	</script>
	<script type='text/javascript'>
function preview_image(event) 
{
 var reader = new FileReader();
 reader.onload = function()
 {
  var output = document.getElementById('output_image');
  output.src = reader.result;
 }
 reader.readAsDataURL(event.target.files[0]);
}
</script>
<script>

  $('#loading').show();
  $.ajax({
      // Other ajax parameters
      success: function () {
         // hiding the image here
         debugger;
         $('#loading').hide();
      }
  });
  
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>
<script>
 function myFunction(){
    	  $('#departmentCode').click(function() {
      	 var name= $('#departmentCode option:selected').text();
      	$('#depName').val(name);
      	}); 
      }
      
</script>	

</body>
</html>